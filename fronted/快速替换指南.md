# 🚀 MaterialRecord.vue 快速替换指南

## 📌 当前进度

✅ **已完成** (2/17):
- 碎片笔记编辑器 
- 框架笔记编辑器

⏳ **待完成** (15个):
- 求学笔记: 6个编辑器
- 背诵笔记: 3个编辑器  
- 刷题笔记: 3个编辑器
- 实战笔记: 3个编辑器

---

## 🎯 替换模板

### 模板1: 单个editor变量（求学笔记等）

**查找** (第XXX行附近):
```vue
<div class="border border-emerald-200 rounded-lg overflow-hidden bg-white">
  <!-- 工具栏 -->
  <div class="bg-gray-50 border-b border-gray-300 p-2 flex flex-wrap items-center gap-1">
    ... 50行工具栏代码 ...
  </div>
  <div class="p-4 min-h-[200px] max-h-[400px] overflow-y-auto">
    <EditorContent :editor="editor" />
  </div>
</div>
```

**替换为**:
```vue
<RichTextEditor 
  :editor="editor"
  border-color="emerald"
  @insert-table="insertStudyTable"
  @insert-image="insertStudyImage"
  @upload-image="uploadStudyImage"
  @set-link="setStudyLink"
  @import-markdown="importMarkdown(editor)"
/>
```

### 模板2: 特定编辑器变量（背诵笔记等）

例如 `originalTextEditor`:

**查找**:
```vue
<div class="border border-gray-300 rounded-lg overflow-hidden">
  ... 工具栏 ...
  <EditorContent :editor="originalTextEditor" />
</div>
```

**替换为**:
```vue
<RichTextEditor 
  :editor="originalTextEditor"
  border-color="gray"
  @insert-table="insertMemorizationTable"
  @insert-image="insertMemorizationImage"
  @upload-image="uploadMemorizationImage"
  @set-link="setMemorizationLink"
  @import-markdown="importMarkdown(originalTextEditor)"
/>
```

---

## 📋 完整替换清单

### 求学笔记 (6个编辑器)

**位置**: 约第960-1440行

| 编辑器变量 | 标签 | 边框颜色 | 函数前缀 |
|-----------|------|---------|---------|
| `coreConceptEditor` | 核心概念 | emerald | insertStudy |
| `mechanismEditor` | 机制原理 | emerald | insertStudy |
| `applicationCaseEditor` | 应用案例 | emerald | insertStudy |
| `extensionEditor` | 延伸/对比 | emerald | insertStudy |
| `commonMistakeEditor` | 常见误区 | emerald | insertStudy |
| `reflectionEditor` | 思考理解 | emerald | insertStudy |

**替换示例**:
```vue
<!-- 核心概念 -->
<RichTextEditor 
  :editor="coreConceptEditor"
  border-color="emerald"
  @insert-table="insertStudyTable(coreConceptEditor)"
  @insert-image="insertStudyImage(coreConceptEditor)"
  @upload-image="uploadStudyImage(coreConceptEditor)"
  @set-link="setStudyLink(coreConceptEditor)"
  @import-markdown="importMarkdown(coreConceptEditor)"
/>
```

### 背诵笔记 (3个编辑器)

**位置**: 约第1640-1810行

| 编辑器变量 | 标签 | 边框颜色 | 函数前缀 |
|-----------|------|---------|---------|
| `originalTextEditor` | 原文内容 | gray | insertMemorization |
| `explanationEditor` | 解释说明 | gray | insertMemorization |
| `cueEditor` | 记忆提示 | gray | insertMemorization |

**替换示例**:
```vue
<!-- 原文内容 -->
<RichTextEditor 
  :editor="originalTextEditor"
  border-color="gray"
  @insert-table="insertMemorizationTable(originalTextEditor)"
  @insert-image="insertMemorizationImage(originalTextEditor)"
  @upload-image="uploadMemorizationImage(originalTextEditor)"
  @set-link="setMemorizationLink(originalTextEditor)"
  @import-markdown="importMarkdown(originalTextEditor)"
/>
```

### 刷题笔记 (3个编辑器)

**位置**: 约第1920-2100行

| 编辑器变量 | 标签 | 边框颜色 | 函数前缀 |
|-----------|------|---------|---------|
| `questionDescriptionEditor` | 题目描述 | rose | insertExercise |
| `analysisEditor` | 分析理解 | rose | insertExercise |
| `referenceAnswerEditor` | 参考答案 | rose | insertExercise |

**替换示例**:
```vue
<!-- 题目描述 -->
<RichTextEditor 
  :editor="questionDescriptionEditor"
  border-color="rose"
  @insert-table="insertExerciseTable(questionDescriptionEditor)"
  @insert-image="insertExerciseImage(questionDescriptionEditor)"
  @upload-image="uploadExerciseImage(questionDescriptionEditor)"
  @set-link="setExerciseLink(questionDescriptionEditor)"
  @import-markdown="importMarkdown(questionDescriptionEditor)"
/>
```

### 实战笔记 (3个编辑器)

**位置**: 约第2320-2470行

| 编辑器变量 | 标签 | 边框颜色 | 函数前缀 |
|-----------|------|---------|---------|
| `requirementDescriptionEditor` | 需求描述 | cyan | insertPractical |
| `designThinkingEditor` | 设计思路 | cyan | insertPractical |
| `referenceDesignEditor` | 参考设计 | cyan | insertPractical |

**替换示例**:
```vue
<!-- 需求描述 -->
<RichTextEditor 
  :editor="requirementDescriptionEditor"
  border-color="cyan"
  @insert-table="insertPracticalTable(requirementDescriptionEditor)"
  @insert-image="insertPracticalImage(requirementDescriptionEditor)"
  @upload-image="uploadPracticalImage(requirementDescriptionEditor)"
  @set-link="setPracticalLink(requirementDescriptionEditor)"
  @import-markdown="importMarkdown(requirementDescriptionEditor)"
/>
```

---

## ⚡ 批量替换技巧

### VS Code 方式

1. 打开 `MaterialRecord.vue`
2. 按 `Ctrl+H` 打开查找替换
3. 启用正则表达式模式
4. 按上述模板逐个替换

### 手动替换顺序（推荐）

1. **求学笔记** - 6个（最多，先完成有成就感）
2. **刷题笔记** - 3个（结构相似，快）
3. **实战笔记** - 3个（同上）
4. **背诵笔记** - 3个（最后）

每组大约需要 **5-8分钟**。

---

## ✅ 验证清单

替换完成后，检查：

- [ ] 所有 `<EditorContent>` 都被替换
- [ ] 边框颜色正确
- [ ] 编辑器变量名正确
- [ ] 辅助函数名正确（insertXxx, uploadXxx等）
- [ ] 没有遗漏的工具栏代码
- [ ] 文件可以正常保存（无语法错误）

---

## 🐛 常见问题

### Q: 替换后报错 "Cannot find name 'insertStudyTable'"

**A**: 检查函数名前缀是否正确：
- 求学笔记: `insertStudy...`
- 刷题笔记: `insertExercise...`
- 实战笔记: `insertPractical...`
- 背诵笔记: `insertMemorization...`

### Q: 边框颜色不对

**A**: 确保使用正确的颜色：
- purple (碎片), blue (框架), emerald (求学)
- gray (背诵), rose (刷题), cyan (实战)

### Q: 编辑器不显示

**A**: 检查 `:editor` 绑定的变量名是否正确

---

## 📊 预期收益

完成所有替换后：

| 指标 | 改善 |
|------|------|
| 代码行数 | -850行 (13%) |
| 工具栏重复代码 | -100% |
| 维护成本 | -70% |
| 代码可读性 | +150% |

---

**准备好了吗？开始替换吧！** 🚀

建议用时：**30-40分钟** （可随时暂停）

