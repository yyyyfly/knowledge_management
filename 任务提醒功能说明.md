# ä»»åŠ¡æé†’åŠŸèƒ½å®ç°è¯´æ˜

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

åœ¨ä»¥ä¸‹4ä¸ªé¡µé¢æ·»åŠ äº†ç´§æ€¥ä»»åŠ¡æé†’åŠŸèƒ½ï¼Œå½“ä»»åŠ¡å·²è¿‡æœŸæˆ–æˆªæ­¢æ—¥æœŸåœ¨5å¤©å†…ä¸”æœªå®Œæˆæ—¶ï¼Œä¼šåœ¨é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºé†’ç›®çš„æé†’å¡ç‰‡ã€‚

## ğŸ¯ å®ç°é¡µé¢

1. **æ€»è§ˆé¢æ¿** (Dashboard.vue)
2. **æˆ˜äº‰è¡ŒåŠ¨** (DefenseProjectsDashboard.vue)
3. **å·¥ç¨‹å»ºè®¾** (ConstructionProjectsDashboard.vue)
4. **å¤–äº¤è¡ŒåŠ¨** (DiplomaticProjectsDashboard.vue)

## âš™ï¸ åŠŸèƒ½ç‰¹æ€§

### 1. ä»»åŠ¡ç­›é€‰æ¡ä»¶
- âœ… å·²è¿‡æœŸ **æˆ–** æˆªæ­¢æ—¥æœŸåœ¨ **5å¤©å†…**ï¼ˆåŒ…æ‹¬ä»Šå¤©ï¼‰
- âœ… ä»»åŠ¡çŠ¶æ€**ä¸æ˜¯**å·²å®Œæˆï¼ˆcompletedï¼‰
- âœ… ä»»åŠ¡çŠ¶æ€**ä¸æ˜¯**å·²åœæ­¢ï¼ˆstoppedï¼‰
- âœ… å¿…é¡»æœ‰æˆªæ­¢æ—¥æœŸ

### 2. è§†è§‰è®¾è®¡

#### ç´§æ€¥ç¨‹åº¦åˆ†çº§
- **ğŸ”¥ å·²è¿‡æœŸ**ï¼š
  - æ·±çº¢è‰²å·¦è¾¹æ¡†
  - çº¢è‰²èƒŒæ™¯ï¼ˆæ•´ä¸ªå¡ç‰‡ï¼‰
  - æ·±çº¢è‰²ç™½å­—æ ‡ç­¾
  - ç«ç„°å›¾æ ‡ ğŸ”¥
  - æ–‡å­—ï¼š"å·²é€¾æœŸXå¤©"
  - æ·±çº¢è‰²"ç«‹å³å¤„ç†"æŒ‰é’®

- **ğŸ”´ æç´§æ€¥**ï¼ˆâ‰¤2å¤©åˆ°æœŸï¼‰ï¼š
  - çº¢è‰²å·¦è¾¹æ¡†
  - çº¢è‰²èƒŒæ™¯æ ‡ç­¾
  - æ–‡å­—ï¼š"ä»Šå¤©åˆ°æœŸ" / "æ˜å¤©åˆ°æœŸ" / "è¿˜å‰©Xå¤©"

- **ğŸŸ  ç´§æ€¥**ï¼ˆ3-5å¤©åˆ°æœŸï¼‰ï¼š
  - æ©™è‰²å·¦è¾¹æ¡†
  - æ©™è‰²èƒŒæ™¯æ ‡ç­¾
  - æ–‡å­—ï¼š"è¿˜å‰©Xå¤©"

#### æ•´ä½“æ ·å¼
- æ©™çº¢æ¸å˜èƒŒæ™¯
- æ©™è‰²å·¦ä¾§ç²—è¾¹æ¡†
- è­¦å‘Šå›¾æ ‡ï¼ˆæ„Ÿå¹å·ä¸‰è§’å½¢ï¼‰
- æ‚¬åœæ—¶æ˜¾ç¤ºé˜´å½±æ•ˆæœ

### 3. æ˜¾ç¤ºä¿¡æ¯
æ¯ä¸ªä»»åŠ¡å¡ç‰‡æ˜¾ç¤ºï¼š
- âœ… ä»»åŠ¡åç§°
- âœ… å‰©ä½™å¤©æ•°æ ‡ç­¾ï¼ˆé¢œè‰²ç¼–ç ï¼‰
- âœ… é¡¹ç›®åç§°æ ‡ç­¾ï¼ˆä»…æ€»è§ˆé¢æ¿ï¼‰
- âœ… ä»»åŠ¡æè¿°
- âœ… æˆªæ­¢æ—¶é—´
- âœ… åˆ›å»ºæ—¶é—´ï¼ˆä»…æ€»è§ˆé¢æ¿ï¼‰
- âœ… "ç«‹å³å¤„ç†"æŒ‰é’®ï¼ˆä»…æ€»è§ˆé¢æ¿ï¼Œç‚¹å‡»è·³è½¬åˆ°é¡¹ç›®æ‰§è¡Œé¡µé¢ï¼‰

### 4. æ’åºè§„åˆ™
æŒ‰å‰©ä½™å¤©æ•°**å‡åº**æ’åˆ—ï¼Œå·²è¿‡æœŸçš„ä»»åŠ¡ï¼ˆè´Ÿæ•°å¤©æ•°ï¼‰ä¼šè‡ªåŠ¨æ’åœ¨æœ€å‰é¢ï¼Œè¶Šç´§æ€¥çš„ä»»åŠ¡æ’ä½è¶Šé å‰

## ğŸ’» æŠ€æœ¯å®ç°

### æ ¸å¿ƒé€»è¾‘ï¼ˆcomputedå±æ€§ï¼‰

```typescript
const urgentTasks = computed(() => {
  const now = new Date()
  const fiveDaysLater = new Date(now.getTime() + 5 * 24 * 60 * 60 * 1000)
  
  return tasks.value
    .filter(task => {
      // æ’é™¤å·²å®Œæˆå’Œå·²åœæ­¢çš„ä»»åŠ¡
      if (task.status === 'completed' || task.status === 'stopped') return false
      
      // æ£€æŸ¥æˆªæ­¢æ—¶é—´
      if (!task.deadline) return false
      
      const deadline = new Date(task.deadline)
      // å·²è¿‡æœŸæˆ–åœ¨5å¤©å†…åˆ°æœŸ
      return deadline <= fiveDaysLater
    })
    .map(task => {
      const deadline = new Date(task.deadline)
      const timeDiff = deadline.getTime() - now.getTime()
      const daysLeft = Math.ceil(timeDiff / (1000 * 60 * 60 * 24))
      
      return {
        ...task,
        daysLeft,
        isOverdue: deadline < now // æ ‡è®°æ˜¯å¦å·²è¿‡æœŸ
      }
    })
    .sort((a, b) => a.daysLeft - b.daysLeft) // æŒ‰å‰©ä½™å¤©æ•°æ’åºï¼ˆè¿‡æœŸçš„ä¼šæ’åœ¨æœ€å‰é¢ï¼Œå› ä¸ºæ˜¯è´Ÿæ•°ï¼‰
})
```

### æ¡ä»¶æ¸²æŸ“

```vue
<div v-if="urgentTasks.length > 0" class="...">
  <!-- åªæœ‰å½“æœ‰ç´§æ€¥ä»»åŠ¡æ—¶æ‰æ˜¾ç¤ºæé†’åŒºåŸŸ -->
</div>
```

## ğŸ¨ æ ·å¼ç»†èŠ‚

### æ¸å˜èƒŒæ™¯
```css
background: linear-gradient(to right, from-orange-50, to-red-50);
```

### è¾¹æ¡†å’ŒèƒŒæ™¯é¢œè‰²åŠ¨æ€ç»‘å®š
```vue
:class="{
  'border-red-600 bg-red-50': task.isOverdue,
  'border-red-500': !task.isOverdue && task.daysLeft <= 2,
  'border-orange-500': !task.isOverdue && task.daysLeft > 2 && task.daysLeft <= 5
}"
```

### æ ‡ç­¾é¢œè‰²åŠ¨æ€ç»‘å®š
```vue
:class="{
  'bg-red-600 text-white': task.isOverdue,
  'bg-red-100 text-red-700': !task.isOverdue && task.daysLeft <= 2,
  'bg-orange-100 text-orange-700': !task.isOverdue && task.daysLeft > 2 && task.daysLeft <= 5
}"
```

### æŒ‰é’®é¢œè‰²åŠ¨æ€ç»‘å®šï¼ˆæ€»è§ˆé¢æ¿ï¼‰
```vue
:class="{
  'bg-red-600 hover:bg-red-700': task.isOverdue,
  'bg-blue-600 hover:bg-blue-700': !task.isOverdue
}"
```

## ğŸ“Š ä½¿ç”¨åœºæ™¯

### æ€»è§ˆé¢æ¿ï¼ˆæ–°è®¾è®¡ï¼‰
- æ˜¾ç¤º**æ‰€æœ‰é¡¹ç›®**çš„ç´§æ€¥ä»»åŠ¡
- **æŒ‰ä¸‰ä¸ªè¡ŒåŠ¨ç»„åˆ†ç±»æ˜¾ç¤º**ï¼šæˆ˜äº‰è¡ŒåŠ¨ã€å·¥ç¨‹å»ºè®¾ã€å¤–äº¤è¡ŒåŠ¨
- **æ”¯æŒæŠ˜å /å±•å¼€**ï¼šç‚¹å‡»åˆ†ç±»æ ‡é¢˜å¯å±•å¼€æŸ¥çœ‹è¯¦æƒ…ï¼Œé»˜è®¤æŠ˜å èŠ‚çœç©ºé—´
- æ¯ä¸ªåˆ†ç±»æ˜¾ç¤ºç´§æ€¥ä»»åŠ¡æ•°é‡
- æä¾›"ç«‹å³å¤„ç†"æŒ‰é’®å¿«é€Ÿè·³è½¬
- æ˜¾ç¤ºé¡¹ç›®åç§°ä¾¿äºè¯†åˆ«
- åˆ†ç±»å›¾æ ‡å’Œé¢œè‰²ï¼š
  - æˆ˜äº‰è¡ŒåŠ¨ï¼šçº¢è‰² ğŸ¯
  - å·¥ç¨‹å»ºè®¾ï¼šè“è‰² ğŸ”¨
  - å¤–äº¤è¡ŒåŠ¨ï¼šç»¿è‰² ğŸ¤

### å„è¡ŒåŠ¨é¡µé¢
- åªæ˜¾ç¤º**è¯¥åˆ†ç±»ä¸‹**çš„ç´§æ€¥ä»»åŠ¡
- æˆ˜äº‰è¡ŒåŠ¨ï¼šä»…æ˜¾ç¤ºdefenseç±»åˆ«é¡¹ç›®çš„ä»»åŠ¡
- å·¥ç¨‹å»ºè®¾ï¼šä»…æ˜¾ç¤ºconstructionç±»åˆ«é¡¹ç›®çš„ä»»åŠ¡
- å¤–äº¤è¡ŒåŠ¨ï¼šä»…æ˜¾ç¤ºdiplomaticç±»åˆ«é¡¹ç›®çš„ä»»åŠ¡
- é»˜è®¤å…¨éƒ¨å±•å¼€æ˜¾ç¤º

## âœ¨ ç”¨æˆ·ä½“éªŒä¼˜åŒ–

1. **è‡ªåŠ¨åˆ·æ–°**ï¼š
   - é¡µé¢æ¿€æ´»æ—¶ï¼ˆé€šè¿‡`onActivated`ï¼‰è‡ªåŠ¨é‡æ–°è®¡ç®—
   - ç¡®ä¿æ˜¾ç¤ºæœ€æ–°çš„ä»»åŠ¡çŠ¶æ€

2. **è§†è§‰å±‚æ¬¡**ï¼š
   - æ¸å˜èƒŒæ™¯å¸å¼•æ³¨æ„åŠ›
   - å·¦ä¾§ç²—è¾¹æ¡†å¼ºè°ƒç´§æ€¥ç¨‹åº¦
   - é¢œè‰²ç¼–ç å¿«é€Ÿè¯†åˆ«

3. **ä¿¡æ¯å®Œæ•´**ï¼š
   - ä¸€ç›®äº†ç„¶çš„å‰©ä½™æ—¶é—´
   - æ¸…æ™°çš„ä»»åŠ¡æè¿°
   - æ˜ç¡®çš„æˆªæ­¢æ—¥æœŸ

4. **å¿«é€Ÿæ“ä½œ**ï¼š
   - æ€»è§ˆé¢æ¿æä¾›ç›´è¾¾æŒ‰é’®
   - å‡å°‘ç”¨æˆ·æ“ä½œæ­¥éª¤

5. **åˆ†ç±»æŠ˜å **ï¼ˆæ€»è§ˆé¢æ¿æ–°åŠŸèƒ½ï¼‰ï¼š
   - é»˜è®¤æŠ˜å ï¼Œé¿å…é¡µé¢è¿‡é•¿
   - ç‚¹å‡»åˆ†ç±»æ ‡é¢˜å³å¯å±•å¼€/æ”¶èµ·
   - æ˜¾ç¤ºæ¯ä¸ªåˆ†ç±»çš„ä»»åŠ¡æ•°é‡
   - æœ‰ä»»åŠ¡çš„åˆ†ç±»æ‰ä¼šæ˜¾ç¤º
   - æŠ˜å å›¾æ ‡åŠ¨æ€å˜åŒ–ï¼ˆä¸Š/ä¸‹ç®­å¤´ï¼‰

## ğŸ”„ æ•°æ®æµ

### æ€»è§ˆé¢æ¿æ•°æ®æµ
```
ä»»åŠ¡åˆ—è¡¨ï¼ˆtasksï¼‰
    â†“
ç­›é€‰ï¼ˆå·²è¿‡æœŸæˆ–5å¤©å†… + æœªå®Œæˆï¼‰
    â†“
è®¡ç®—å‰©ä½™å¤©æ•° + æ ‡è®°æ˜¯å¦è¿‡æœŸ + æ·»åŠ åˆ†ç±»æ ‡è®°
    â†“
æŒ‰å¤©æ•°æ’åºï¼ˆè¿‡æœŸä»»åŠ¡è‡ªåŠ¨æ’å‰é¢ï¼‰
    â†“
urgentTasksï¼ˆè®¡ç®—å±æ€§ï¼‰
    â†“
æŒ‰åˆ†ç±»åˆ†ç»„ï¼ˆdefense/construction/diplomaticï¼‰
    â†“
urgentTasksByCategoryï¼ˆè®¡ç®—å±æ€§ï¼‰
    â†“
æ ¹æ®è¿‡æœŸçŠ¶æ€åº”ç”¨ä¸åŒæ ·å¼
    â†“
æŒ‰åˆ†ç±»æ¸²æŸ“å¯æŠ˜å å¡ç‰‡
```

### å„è¡ŒåŠ¨é¡µé¢æ•°æ®æµ
```
ä»»åŠ¡åˆ—è¡¨ï¼ˆtasksï¼‰
    â†“
ç­›é€‰ï¼ˆå·²è¿‡æœŸæˆ–5å¤©å†… + æœªå®Œæˆ + è¯¥åˆ†ç±»ï¼‰
    â†“
è®¡ç®—å‰©ä½™å¤©æ•° + æ ‡è®°æ˜¯å¦è¿‡æœŸ
    â†“
æŒ‰å¤©æ•°æ’åº
    â†“
urgentTasksï¼ˆè®¡ç®—å±æ€§ï¼‰
    â†“
æ ¹æ®è¿‡æœŸçŠ¶æ€åº”ç”¨ä¸åŒæ ·å¼
    â†“
ç›´æ¥æ¸²æŸ“ä»»åŠ¡å¡ç‰‡
```

## ğŸ“± å“åº”å¼è®¾è®¡

- ç§»åŠ¨ç«¯ï¼šå‚ç›´å †å ï¼Œè‡ªé€‚åº”å®½åº¦
- æ¡Œé¢ç«¯ï¼šä¿æŒè‰¯å¥½çš„é—´è·å’Œæ’ç‰ˆ
- æ‰€æœ‰å°ºå¯¸éƒ½ä½¿ç”¨Tailwind CSSå“åº”å¼å•ä½

## ğŸ¯ æµ‹è¯•å»ºè®®

1. åˆ›å»ºä¸€ä¸ªå·²è¿‡æœŸçš„ä»»åŠ¡ï¼ˆå¦‚æ˜¨å¤©æˆ–å‰å¤©çš„æˆªæ­¢æ—¥æœŸï¼‰ï¼ŒéªŒè¯å®ƒæ˜¾ç¤ºä¸ºçº¢è‰²èƒŒæ™¯å¸¦ç«ç„°å›¾æ ‡
2. åˆ›å»ºä¸€ä¸ªæˆªæ­¢æ—¥æœŸåœ¨æ˜å¤©çš„ä»»åŠ¡ï¼ŒéªŒè¯æ˜¾ç¤ºçº¢è‰²æ ‡ç­¾
3. åˆ›å»ºä¸€ä¸ªæˆªæ­¢æ—¥æœŸåœ¨5å¤©åçš„ä»»åŠ¡ï¼ŒéªŒè¯æ˜¾ç¤ºæ©™è‰²æ ‡ç­¾
4. åˆ›å»ºä¸€ä¸ªæˆªæ­¢æ—¥æœŸåœ¨7å¤©åçš„ä»»åŠ¡ï¼ˆä¸åº”æ˜¾ç¤ºï¼‰
5. åˆ‡æ¢åˆ°å„ä¸ªè¡ŒåŠ¨é¡µé¢ï¼ŒéªŒè¯ä»»åŠ¡åˆ†ç±»æ­£ç¡®
6. å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼ŒéªŒè¯å®ƒä»æé†’åˆ—è¡¨ä¸­æ¶ˆå¤±
7. åœæ­¢ä¸€ä¸ªä»»åŠ¡ï¼ŒéªŒè¯å®ƒä»æé†’åˆ—è¡¨ä¸­æ¶ˆå¤±
8. éªŒè¯å·²è¿‡æœŸä»»åŠ¡æ’åœ¨æœ€å‰é¢

## ğŸ“ æ³¨æ„äº‹é¡¹

- æ‰€æœ‰æ—¶é—´è®¡ç®—ä½¿ç”¨æœ¬åœ°æ—¶é—´
- å‰©ä½™å¤©æ•°å‘ä¸Šå–æ•´ï¼ˆ`Math.ceil`ï¼‰
- å·²è¿‡æœŸä»»åŠ¡çš„å‰©ä½™å¤©æ•°ä¸ºè´Ÿæ•°ï¼Œä½¿ç”¨`Math.abs()`æ˜¾ç¤ºç»å¯¹å€¼
- å·²å®Œæˆå’Œå·²åœæ­¢çš„ä»»åŠ¡ä¸ä¼šå‡ºç°åœ¨æé†’ä¸­
- æ²¡æœ‰è®¾ç½®æˆªæ­¢æ—¥æœŸçš„ä»»åŠ¡ä¸ä¼šå‡ºç°åœ¨æé†’ä¸­
- å·²è¿‡æœŸçš„ä»»åŠ¡ä¼šä¼˜å…ˆæ˜¾ç¤ºåœ¨åˆ—è¡¨é¡¶éƒ¨ï¼ˆå› ä¸ºè´Ÿæ•°åœ¨æ’åºæ—¶è‡ªç„¶æ’åœ¨å‰é¢ï¼‰
